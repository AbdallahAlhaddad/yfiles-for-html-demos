<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

<!-- ////////////////////////////////////////////////////////////////////////
     // @license
     // This demo file is part of yFiles for HTML 2.4.
     // Copyright (c) 2000-2021 by yWorks GmbH, Vor dem Kreuzberg 28,
     // 72070 Tuebingen, Germany. All rights reserved.
     //
     // yFiles demo files exhibit yFiles for HTML functionalities. Any redistribution
     // of demo files in source code or binary form, with or without
     // modification, is not permitted.
     //
     // Owners of a valid software license for a yFiles for HTML version that this
     // demo is shipped with are allowed to use the demo source code as basis
     // for their own yFiles for HTML powered applications. Use of such programs is
     // governed by the rights and conditions as set out in the yFiles for HTML
     // license agreement.
     //
     // THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESS OR IMPLIED
     // WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
     // MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN
     // NO EVENT SHALL yWorks BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
     // SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
     // TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
     // PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
     // LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
     // NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
     // SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
     // 
     ////////////////////////////////////////////////////////////////////////-->

  <title>Web Worker Demo (Modules) [yFiles for HTML]</title>

  <link rel="stylesheet" href="../../resources/style/demo.css">

  <style type="text/css">
    #notSupportedHint {
      position: relative;
      top: 200px;
      border: 1px solid;
      border-color: #18468c;
      text-align: center;
      margin: 0 20%;
      padding: 20px;
    }

    #graphComponentStatus {
      position: relative;
      top: 50%;
      width: 50%;
      left: 50%;
      border: 1px solid #999999;
      line-height: 40px;
      text-align: center;
      font-size: 20px;
      margin-left:-25%;
      padding-right: 20px;
      background-color: rgba(255,255,255,0.75);
      visibility: hidden;
    }
  </style>

  <script src="../../resources/filesystem-warning.js"></script></head>
<body class="demo-has-left">

<!--
  The sidebar for the overview and description text
  -->
<aside class="demo-sidebar demo-left">
  <h1 class="demo-sidebar-header">Description</h1>
  <div class="demo-sidebar-content">
    <p>This demo shows how to run a layout algorithm in a Web Worker thread without blocking the UI or main thread.</p>
    <p>The demo code uses <a href="https://web.dev/module-workers/">module workers</a>, which are not supported in every
      browser, yet. If your browser does not support module workers, please refer to the
      <a href="../../loading/webpack/README.html">Webpack Demo</a> for an approach using Web Worker together with
      webpack, or the <a href="../../loading/webworker-umd/index.html">Web Worker UMD Demo</a> that uses AMD modules
      to load resources in the Web Worker thread. </p>

    <p>See the sources for details.</p>
  </div>
</aside>

<div class="demo-content">

  <div class="demo-toolbar">
    <button data-command="ZoomIn" title="Zoom In" class="demo-icon-yIconZoomIn"></button>
    <button data-command="ZoomOriginal" title="Zoom to original size" class="demo-icon-yIconZoomOriginal"></button>
    <button data-command="ZoomOut" title="Zoom Out" class="demo-icon-yIconZoomOut"></button>
    <button data-command="FitContent" title="Fit Content" class="demo-icon-yIconZoomFit"></button>
    <span class="demo-separator"></span>
    <button data-command="Undo" title="Undo" class="demo-icon-yIconUndo"></button>
    <button data-command="Redo" title="Redo" class="demo-icon-yIconRedo"></button>
    <span class="demo-separator"></span>
    <button id="layoutBtn" data-command="Layout" title="Layout" class="demo-icon-yIconLayout labeled" disabled>Layout</button>
  </div>

  <div id="graphComponent"></div>
  <div id="graphComponentStatus">Running Web Worker</div>

  <div style="display: none" id="notSupportedHint">
    <p>Your browser does not support module web workers. Please refer to the
    <a href="../../loading/webpack/README.html">Webpack Demo</a> or the
    <a href="../../loading/webworker-umd/index.html">Webworker UMD Demo</a>
      instead.</p>
    <p>Module Workers are currently only supported in Chrome 80+ and Edge</p>
  </div>
</div>

<script type="module" crossorigin="anonymous" src="WebWorkerModulesDemo.js"></script>
<script nomodule>
  // noinspection ES6ConvertVarToLetConst
  document.body.className = document.body.className + ' loaded';
  document.querySelector('.demo-toolbar').setAttribute('style', 'display: none;')
  var gcElement = document.getElementById('graphComponent');
  gcElement.innerHTML =
    '<h2>Your browser doesn\'t support ES modules</h2>' +
    '<p>Please visit <a href="https://caniuse.com/#search=modules" target="_blank">caniuse.com</a> for details on browser support for ES modules.</p>'
</script>
</body>
</html>
